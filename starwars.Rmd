---
title: "Визуализация персонажей Звездных войн"
author: "Mine Çetinkaya-Rundel translated by Basil Yakimov"
output: github_document
---

```{r load-packages, include=FALSE}
library(tidyverse)
```

### Взглянем на фрейм starwars.

```{r glimpse-starwars}
glimpse(starwars)
```
### Модифицируйте следующий график для замены цвета всех точек на розовый (`"pink"`).

```{r scatterplot}
ggplot(starwars, 
       aes(x = height, y = mass, color = gender, size = birth_year)) +
  geom_point(color = "pink")
```

### Добавьте заголовок и подписи к осям и легенде. Раскомментируйте строчки, чтобы увидеть результат.

```{r scatterplot-labels}
ggplot(starwars, 
       aes(x = height, y = mass, color = gender, size = birth_year)) +
  geom_point(color = "#30509C") +
  labs(
    title = "График зависимости веса от высоты персонажей",
    x = "Высота (см)", 
    y = "Вес (кг)",
    )
```

### Выберите одну категориальную переменную из набора данных и постройте столбчатый график ее распределения.

(Небольшой фрагмент стартового кода представлен ниже и этот фрагмент кода не будет исполняться (настройка `eval = FALSE`), поскольку имеющийся код синтаксически некорректен и не может быть исполнен, что заблокирует весь документ.
Когда вы дополните этот код, замените настройку фрагмента на `eval = TRUE` либо вообще удалите опцию `eval`).

```{r barplot, eval = FALSE}
ggplot(starwars, aes(y = skin_color)) +
  geom_bar()
``

### Выберите одну числовую переменную из набора данных и постройте гистограмму ее распределения.

(На сей раз стартового фрагмента кода нет, работайте самостоятельно!)

```{r histogram}

ggplot(starwars, aes(x = mass)) + 
  geom_histogram() +
  labs(
    x = "Вес, кг",
    y = "Частота",
    title = "Гистограмма веса персонажей Starwars"
  )
```

### Выберите числовую и категориальную переменные и создайте визуализацию (вы сами выбираете тип!) отношения между этими переменными. Помимо вашего кода и результата, изложите интерпретацию вашей визуализации.

```{r num-cat}
#ggplot(starwars, aes(x = height, fill = sex)) +
  #geom_histogram()
ggplot(starwars, aes(x = height, fill = sex)) +
  geom_density(adjust = 2, 
               alpha = 0.5) +
  labs(
    x = "Height, сm",
    y = "Count",
  )
```
Наибольшее количество женщин обладает ростом приблизительно 160-170 см,
наибольшее количество мужчин обладает ростом приблизительно 180-190 см, однако переменная рост у мужчин принимает большее количество разнообразных значений, о чем говорят хвосты графика.

### Выберите две категориальные переменные и создайте визуализацию отношения между этими переменными. Помимо вашего кода и результата, изложите интерпретацию вашей визуализации.

```{r cat-cat}
ggplot(starwars, aes(x = gender, 
                  fill = sex)) +
  geom_bar()
```
 На графике можно заметить, что все мужчины относят себя к маскулинному гендеру, все гермафродиты относят себя также к маскулинному гендеру, все женщины относят себя к феминному гендеру.
 
### Выберите две числовые и две категориальные переменные и создайте визуализацию, которая включает все эти переменные. Изложите интерпретацию вашей визуализации.

```{r multi}
ggplot(data = starwars, 
       mapping = aes(x = height, y = mass,
                     colour = sex,
                     shape = gender)) +
  geom_point() +
  labs(x = "Height, сm", y = "Mass, kg")
```
На графике можно заметить, что большинство мужчин весят примерно до 200 кг, имеют рост от 160 до 200 см (однако есть значения меньше 10 кг и больше 200 кг), все мужчины относят себя к мускулинному гендеру. 
Рост женщин лежит в промежутке от 150 до приблизительно 180 см, вес приблизательно до 100 кг, уклоняющихся наблюдений среди группы женщин не наблюдается, все женщины причисляют себя к феминному гендеру.
На графике встречается одно уклоняющееся наблюдение по переменной mass - данное наблюдение гемафродит, весом приблизительно 1600-1700 кг, рост примерно 175 см, относит себя к мускулинному гендеру.